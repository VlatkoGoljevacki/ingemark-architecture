{
  "configuration" : { },
  "description" : "Sales and CRM Platform for Allsop Real Estate",
  "documentation" : {
    "sections" : [ {
      "content" : "# System Context\n\n## What is PACE?\n\n![](embed:SystemContext)\n\nPACE is Allsop & Allsop's sales and CRM platform. It replaces the legacy Salesforce CRM with a purpose-built system for managing the full lifecycle of real estate sales — from listing properties and finding applicants, to scheduling viewings, closing deals, and reporting on performance.\n\nThe platform is developed and maintained by Ingemark for Allsop & Allsop, a real estate brokerage operating in the UAE.\n\n## Who Uses PACE?\n\nPACE serves three Allsop employee roles, each with a tailored interface:\n\n| Role | What they do in PACE |\n|---|---|\n| **Agent** | Day-to-day operations: manage applicants and listings, communicate with clients via email, WhatsApp, and phone, schedule property viewings, use the AI assistant for data queries and conversation analysis. |\n| **Manager** | Oversight: review team performance and KPIs, approve workflows, monitor listing activity, and access analytics dashboards. |\n| **Admin** | Configuration: manage user accounts and roles, configure system settings, administer reference data, and set up portal integrations. |\n\nAll users sign in through their Allsop Google Workspace account (Single Sign-On) — PACE does not manage passwords.\n\nTwo additional roles support the platform behind the scenes:\n\n| Role | Responsibility |\n|---|---|\n| **Developer** (Ingemark) | Builds and maintains the platform — code, AI systems, integrations, and CI/CD pipelines. |\n| **Support Team** (Ingemark) | Monitors system health, responds to alerts, and handles operational incidents. |\n\n## What Does PACE Do?\n\nPACE covers the core workflows of a real estate sales operation:\n\n### Applicant Management\n\nAgents track prospective buyers and tenants throughout the sales funnel. Each applicant record captures contact details, preferences, interaction history, and viewing activity.\n\n### Listing Management\n\nProperties are created and maintained in PACE with full details — description, pricing, location, media assets, and status. Listings are published to external real estate portals (Property Finder, Bayut, and Allsop's own website) directly from the platform.\n\n### Communication\n\nAgents communicate with applicants through multiple channels without leaving PACE:\n\n- **Email** — sent via Gmail on behalf of the agent\n- **WhatsApp** — listing shares and follow-ups via WhatsApp Business\n- **Phone** — an embedded softphone (powered by Exotel) for making and receiving calls directly in the browser\n\n### Scheduling\n\nProperty viewings and meetings are managed through Google Calendar integration. Agents can check availability, schedule viewings, and send automatic calendar invitations to applicants — all from within PACE.\n\n### Analytics\n\nManagers and agents access KPI dashboards and performance reports through embedded Looker Studio visualizations, without leaving the platform.\n\n### AI Assistant\n\nPACE includes an AI-powered assistant that helps agents with:\n\n- **Data queries** — natural language questions about applicants, listings, and activity (\"show me all 2-bedroom listings in Dubai Marina under 2M AED\")\n- **Conversation analysis** — automatic analysis of call transcripts and communication patterns\n- **Next best steps** — AI-generated recommendations for follow-up actions based on applicant activity\n\nThe AI capabilities are provided by a separate subsystem (PACE AI Suite) that uses Google Vertex AI for language model processing.\n\n## External Services\n\nPACE connects to several external services, grouped by purpose:\n\n### Authentication\n\n| Service | Purpose |\n|---|---|\n| Google Identity Services | Single Sign-On — all Allsop employees authenticate through their Google Workspace account. |\n\n### Communication\n\n| Service | Purpose |\n|---|---|\n| Gmail API | Send emails on behalf of agents (listing shares, follow-ups, notifications). |\n| WhatsApp (Exotel) | Send WhatsApp messages to applicants (listing shares, follow-ups). |\n| Call Center (Exotel) | Embedded softphone for browser-based calling. |\n\n### Scheduling & Analytics\n\n| Service | Purpose |\n|---|---|\n| Google Calendar API | Manage agent calendars — schedule viewings, check availability, send invitations. |\n| Looker Studio | Embedded analytics dashboards and KPI reports. |\n\n### Listing Portals\n\n| Service | Purpose |\n|---|---|\n| Property Finder | Publish and sync listings to the Property Finder portal. |\n| Bayut | Publish and sync listings to the Bayut portal. |\n| Allsop & Allsop Portal | Publish listings to Allsop's own website. |\n\n### AI\n\n| Service | Purpose |\n|---|---|\n| Vertex AI (Google Cloud) | Language model inference for the AI assistant — powers data queries, conversation analysis, and recommendations. |\n\n### Legacy\n\n| Service | Purpose |\n|---|---|\n| Salesforce CRM | The previous CRM system. Historical data was migrated to PACE. Now deprecated. |\n| Salesforce Adapter | A service that pulls data from PACE and syncs it to Salesforce for backward compatibility. |\n\n## Platform Architecture\n\nAt the highest level, PACE consists of two systems:\n\n- **PACE Web** — the main application that all users interact with. It handles the UI, business logic, data storage, and all external integrations. Built with Payload CMS and Next.js.\n- **PACE AI Suite** — the AI subsystem. It provides conversation analysis, semantic search, and agentic AI capabilities. Built with Python and FastAPI. Communicates with PACE Web via REST and Server-Sent Events (SSE).\n\nPACE Web is the central hub — it orchestrates all user-facing functionality and delegates AI tasks to the AI Suite. The AI Suite in turn calls Google Vertex AI for language model processing, but this is invisible to users and to PACE Web.\n",
      "filename" : "01-system-context.md",
      "format" : "Markdown",
      "order" : 1,
      "title" : ""
    }, {
      "content" : "# Container Architecture\n\n## Platform Composition\n\n![](embed:PaceWebContainers)\n\nThe PACE platform consists of two software systems:\n\n- **PACE Web** — The full-stack CRM and sales application (Payload + Next.js) with its primary PostgreSQL database.\n- **PACE AI Suite** — The AI subsystem providing conversation analysis, transcription, and agentic AI capabilities.\n\nThree user roles interact with the platform: **Manager**, **Admin**, and **Agent** — all Allsop employees authenticated via Google Identity (SSO).\n\n## External Integrations\n\nThe platform integrates with external services organized by domain:\n\n| Domain | Systems | Purpose |\n|---|---|---|\n| Google Workspace / Cloud | Google Identity Services, Gmail API, Google Calendar API, Looker Studio, Vertex AI | Authentication (SSO), email delivery, agent scheduling, embedded analytics, LLM inference |\n| Exotel | WhatsApp, Call Center | Applicant messaging and VoIP softphone |\n| Real Estate Portals | Property Finder, Bayut, Allsop & Allsop Portal | Listing publication and syndication |\n| Legacy CRM | Salesforce CRM, Salesforce Adapter | Data migration and backward compatibility (deprecated) |\n\n---\n\n## Components\n\n### PACE Web Containers\n\n#### PACE\n\n| | |\n|---|---|\n| **Technology** | Payload CMS, Next.js |\n| **Runtime** | Node.js on GKE (`pace-web` namespace) |\n| **Role** | Full-stack backend and frontend service |\n\nThe core application serving the web UI for all user roles. Payload CMS provides the backend with a headless API and admin UI, while Next.js handles server-side rendering and the agent-facing frontend. Responsible for applicant management, listing management, communication orchestration, and integration with all external systems.\n\n#### Pace DB\n\n| | |\n|---|---|\n| **Technology** | PostgreSQL on Google Cloud SQL |\n| **Role** | Primary transactional database |\n\nStores all business data: applicants, listings, user accounts, configurations, communication logs, and portal syndication state. Managed by Google Cloud SQL with automated backups and high availability.\n\n### PACE AI Suite Containers\n\n#### PACE AI Backend\n\n| | |\n|---|---|\n| **Technology** | Python, FastAPI |\n| **Runtime** | Python on GKE (`pace-ai` namespace) |\n| **Role** | Main AI service with agentic functionality |\n\nThe central AI service. Handles AI conversation processing, transcript analysis, and agentic workflows. Streams responses back to PACE via SSE. Fetches the PACE database schema to generate context-aware queries. Orchestrates MCP tool calls for specialized operations.\n\n#### MCP Servers\n\n| | |\n|---|---|\n| **Technology** | Python, FastMCP |\n| **Runtime** | Python on GKE (`pace-ai` namespace) |\n| **Role** | Tool servers for AI agents |\n\nModel Context Protocol servers that expose specialized tools to the AI backend. Each MCP server provides domain-specific functions (e.g., fetching listings, querying applicant data) that AI agents can invoke during agentic workflows. Communicates with PACE via REST to retrieve business data.\n\n#### PACE AI DB\n\n| | |\n|---|---|\n| **Technology** | PostgreSQL on Google Cloud SQL |\n| **Role** | Dedicated AI database |\n\nStores AI-specific data: conversation histories, transcripts, agent execution state, and embeddings. Isolated from the main PACE DB to maintain separation of concerns between the CRM and AI subsystems.\n\n### External Systems\n\n#### Google Identity Services\n\n| | |\n|---|---|\n| **Provider** | Google Workspace |\n| **Protocol** | OAuth 2.0 / OpenID Connect |\n| **Role** | Source of truth for authentication |\n\nAll Allsop employees authenticate via Google SSO. PACE delegates identity verification to Google Identity Services and does not manage credentials directly.\n\n#### Gmail API\n\n| | |\n|---|---|\n| **Provider** | Google Workspace |\n| **Protocol** | Google Gmail REST API |\n| **Role** | Email delivery |\n\nUsed to send emails on behalf of agents or as system notifications. Listing share emails, applicant correspondence, and automated notifications are dispatched through the Gmail API using delegated credentials.\n\n#### Google Calendar API\n\n| | |\n|---|---|\n| **Provider** | Google Workspace |\n| **Protocol** | Google Calendar REST API + Push Notifications (Webhooks) |\n| **Role** | Agent calendar management |\n\nManages agent calendars for property viewings, meeting bookings, and availability tracking. PACE uses Google Calendar as the source of truth for all calendar functionality (scheduling, conflict detection, reminders, attendee notifications). Applicants are notified of viewings via email through Google Calendar's built-in notification system. PACE maintains a custom wrapper layer with its own database records for viewing-specific metadata (viewing details, applicant/agent associations, status tracking) that Google Calendar does not natively support.\n\n#### Vertex AI\n\n| | |\n|---|---|\n| **Provider** | Google Cloud |\n| **Protocol** | Vertex AI REST API |\n| **Role** | LLM inference and embedding services |\n\nGoogle's managed AI platform used by the PACE AI Backend for LLM inference and semantic search. The AI backend maintains its own vectorized knowledge database and handles embeddings internally — Vertex AI provides the language model capabilities (text generation, reasoning, conversation analysis) that operate on top of that vector store. The LLM dependency is isolated behind the AI backend — PACE Web does not call Vertex AI directly.\n\n#### WhatsApp\n\n| | |\n|---|---|\n| **Provider** | Exotel |\n| **Protocol** | WhatsApp Business API (REST) |\n| **Role** | Applicant messaging |\n\nEnables agents to communicate with applicants via WhatsApp. Messages are sent through Exotel's WhatsApp Business API integration. Used for listing shares, follow-ups, and applicant communication.\n\n#### Call Center\n\n| | |\n|---|---|\n| **Provider** | Exotel |\n| **Protocol** | REST API + WebSocket |\n| **Role** | VoIP softphone and call streaming |\n\nProvides softphone capabilities embedded in the PACE UI. Agents can make and receive calls directly from the platform. Real-time call events and audio streams are delivered via WebSocket for live call tracking and recording.\n\n#### Property Finder Portal\n\n| | |\n|---|---|\n| **Provider** | Property Finder |\n| **Protocol** | REST API |\n| **Role** | Listing syndication |\n\nUAE real estate listings portal. PACE publishes and syncs property listings to Property Finder, maintaining listing status, pricing, and media assets.\n\n#### Bayut Portal\n\n| | |\n|---|---|\n| **Provider** | Bayut (Dubizzle Group) |\n| **Protocol** | REST API |\n| **Role** | Listing syndication |\n\nUAE real estate listings portal. PACE publishes and syncs property listings to Bayut, maintaining listing status, pricing, and media assets.\n\n#### Allsop & Allsop Portal\n\n| | |\n|---|---|\n| **Provider** | Allsop & Allsop |\n| **Protocol** | REST API |\n| **Role** | Company listing portal |\n\nAllsop's own real estate listings website. PACE publishes listings directly to the company portal, ensuring the public-facing website stays in sync with the CRM.\n\n#### Looker Studio\n\n| | |\n|---|---|\n| **Provider** | Google Workspace |\n| **Protocol** | Embedded iframe |\n| **Role** | Embedded analytics and KPI dashboards |\n\nGoogle's data visualization tool embedded in PACE as an iframe. Provides agents and managers with analytics dashboards and KPI reports without leaving the platform.\n\n#### Salesforce CRM (Deprecated)\n\n| | |\n|---|---|\n| **Provider** | Salesforce |\n| **Protocol** | REST API / CSV import |\n| **Role** | Legacy CRM |\n| **Status** | **Deprecated** — data migration source only |\n\nThe previous CRM system. Historical data was migrated to PACE via CSV import.\n\n#### Salesforce Adapter\n\n| | |\n|---|---|\n| **Protocol** | REST API |\n| **Role** | Salesforce data synchronization |\n\nA service managed by the Salesforce/Allsop side that pulls data from PACE's REST APIs and maps it to Salesforce's own data models. PACE has no knowledge of or dependency on the Salesforce schema — it simply exposes APIs that the adapter consumes.\n\n---\n\n## Interface Catalog\n\nAll container-level interfaces on the PACE Container Diagram, organized by domain.\n\n| ID | Interface | From | To | Protocol |\n|---|---|---|---|---|\n| [INTF-USER-01](#intf-user-01-%E2%80%94-manager-interface) | Manager Interface | Manager | PACE | HTTPS/REST |\n| [INTF-USER-02](#intf-user-02-%E2%80%94-admin-interface) | Admin Interface | Admin | PACE | HTTPS/REST |\n| [INTF-USER-03](#intf-user-03-%E2%80%94-agent-interface) | Agent Interface | Agent | PACE | HTTPS/REST |\n| [INTF-AUTH-02](#intf-auth-02-%E2%80%94-google-identity-confirmation) | Google Identity Confirmation | PACE | Google Identity Services | HTTP REST (OAuth 2.0) |\n| [INTF-DB-01](#intf-db-01-%E2%80%94-pace-database-access) | PACE Database Access | PACE | Pace DB | PostgreSQL Wire Protocol |\n| [INTF-DB-02](#intf-db-02-%E2%80%94-ai-database-access) | AI Database Access | PACE AI Backend | PACE AI DB | PostgreSQL Wire Protocol |\n| [INTF-AI-01](#intf-ai-01-%E2%80%94-ai-application-request) | AI Application Request | PACE | PACE AI Backend | HTTP SSE |\n| [INTF-AI-02](#intf-ai-02-%E2%80%94-schema-and-data-fetching) | Schema and Data Fetching | PACE AI Backend | PACE | HTTP REST |\n| [INTF-AI-03](#intf-ai-03-%E2%80%94-mcp-data-retrieval) | MCP Data Retrieval | MCP Servers | PACE | HTTP REST |\n| [INTF-AI-04..0x](#intf-ai-040x-%E2%80%94-ai-agent-to-mcp-communication) | AI Agent to MCP Communication | PACE AI Backend | MCP Servers | HTTP Streaming |\n| [INTF-AI-05](#intf-ai-05-%E2%80%94-llm-inference-vertex-ai) | LLM Inference (Vertex AI) | PACE AI Backend | Vertex AI | HTTP REST |\n| [INTF-PACE-01](#intf-pace-01-%E2%80%94-call-center-softphone) | Call Center (Softphone) | PACE | Call Center (Exotel) | iframe, WebRTC, REST |\n| [INTF-PACE-02](#intf-pace-02-%E2%80%94-looker-studio-embedded-analytics) | Looker Studio (Embedded Analytics) | PACE | Looker Studio | iframe |\n| [INTF-PACE-03](#intf-pace-03-%E2%80%94-gmail-email) | Gmail (Email) | PACE | Gmail API | HTTP REST |\n| [INTF-PACE-04](#intf-pace-04-%E2%80%94-allsop--allsop-portal-listing-publication) | Allsop & Allsop Portal (Listing Publication) | PACE | Allsop & Allsop Portal | TBD |\n| [INTF-PACE-05](#intf-pace-05-%E2%80%94-bayut-listing-publication) | Bayut (Listing Publication) | PACE | Bayut Portal | XML Feed / REST |\n| [INTF-PACE-06](#intf-pace-06-%E2%80%94-property-finder-listing-publication) | Property Finder (Listing Publication) | PACE | Property Finder Portal | HTTP REST (OAuth 2.0) |\n| [INTF-PACE-07](#intf-pace-07-%E2%80%94-whatsapp-messaging) | WhatsApp (Messaging) | PACE | WhatsApp (Exotel) | HTTP REST |\n| [INTF-PACE-08](#intf-pace-08-%E2%80%94-google-calendar-viewings--scheduling) | Google Calendar (Viewings & Scheduling) | PACE | Google Calendar API | HTTP REST, Webhooks |\n| [INTF-SF-01](#intf-sf-01-%E2%80%94-salesforce-adapter) | Salesforce Adapter | Salesforce Adapter | PACE | HTTP REST |\n\n### User Interfaces\n\n#### INTF-USER-01 — Manager Interface\n\n| | |\n|---|---|\n| **From** | Manager |\n| **To** | PACE |\n| **Protocol** | HTTPS / REST |\n| **Authentication** | Google SSO (INTF-AUTH-02) |\n| **Data** | KPI dashboards, team performance, approval workflows, listing oversight |\n\nWeb UI access for the Manager role. Managers oversee agent performance, approve workflows, and view business KPIs and statistics.\n\n#### INTF-USER-02 — Admin Interface\n\n| | |\n|---|---|\n| **From** | Admin |\n| **To** | PACE |\n| **Protocol** | HTTPS / REST |\n| **Authentication** | Google SSO (INTF-AUTH-02) |\n| **Data** | System configuration, user management, data administration, portal settings |\n\nWeb UI access for the Admin role. Admins configure system settings, manage user accounts and roles, administer reference data, and configure portal integrations.\n\n#### INTF-USER-03 — Agent Interface\n\n| | |\n|---|---|\n| **From** | Agent |\n| **To** | PACE |\n| **Protocol** | HTTPS / REST |\n| **Authentication** | Google SSO (INTF-AUTH-02) |\n| **Data** | Applicant records, listing management, communication tools, AI assistant, softphone |\n\nWeb UI access for the Agent role. Agents manage applicants and listings, communicate with applicants via email/WhatsApp/phone, and use the AI assistant for conversation analysis and data queries.\n\n### Authentication\n\n#### INTF-AUTH-02 — Google Identity Confirmation\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Google Identity Services |\n| **Protocol** | HTTP REST (OAuth 2.0 / OpenID Connect) |\n| **Data** | ID tokens, access tokens, user profile claims (email, name, domain) |\n\nPACE delegates all authentication to Google Identity Services. On login, the browser redirects to Google's OAuth consent flow. PACE validates the returned ID token and establishes a session. No credentials are stored in PACE — Google is the single source of truth for identity.\n\n### Database Interfaces\n\n#### INTF-DB-01 — PACE Database Access\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Pace DB |\n| **Protocol** | PostgreSQL Wire Protocol (TCP 5432) |\n| **Data** | Applicants, listings, users, configurations, communication logs, portal state |\n\nPrimary data path for all PACE business operations. Payload CMS manages the schema and ORM layer. Connection pooling is handled at the application level. The database is hosted on Cloud SQL with private IP access within the GCP VPC.\n\n#### INTF-DB-02 — AI Database Access\n\n| | |\n|---|---|\n| **From** | PACE AI Backend |\n| **To** | PACE AI DB |\n| **Protocol** | PostgreSQL Wire Protocol (TCP 5432) |\n| **Data** | Conversations, transcripts, agent execution state, embeddings |\n\nDedicated data path for the AI subsystem. Isolated from the main PACE DB to maintain separation between CRM and AI concerns. Hosted on Cloud SQL with private IP access within the GCP VPC.\n\n### AI Integration\n\n#### INTF-AI-01 — AI Application Request\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | PACE AI Backend |\n| **Protocol** | HTTP SSE (Server-Sent Events) |\n| **Data** | Input data for embedding/search, query parameters → search results, next best steps, AI-generated recommendations |\n\nThe primary communication channel between PACE and the AI backend. PACE sends input data (text for embedding, search queries, conversation data for analysis) and receives streamed results via SSE — including semantic search results, next best step recommendations, and AI-processed outputs. The AI backend orchestrates the processing internally, calling Vertex AI (INTF-AI-05) for LLM inference and embeddings as needed. PACE does not interact with the LLM directly.\n\n#### INTF-AI-05 — LLM Inference (Vertex AI)\n\n| | |\n|---|---|\n| **From** | PACE AI Backend |\n| **To** | Vertex AI |\n| **Protocol** | HTTP REST (Google Vertex AI API) |\n| **Data** | Prompts, model parameters → generated text, semantic search results, token streams |\n\nThe LLM inference layer. PACE AI Backend calls Vertex AI for language model operations: text generation, semantic search, conversation analysis, and agentic reasoning. The AI backend maintains its own vectorized knowledge database and handles embeddings internally — Vertex AI is used for LLM inference and semantic search capabilities that operate on top of that vector store. The AI backend constructs prompts with context from PACE data (INTF-AI-02) and MCP tool results (INTF-AI-04), sends them to Vertex AI, and processes the model output before returning application-level results to PACE (INTF-AI-01). This interface isolates the LLM dependency — switching models or providers only requires changes in the AI backend, not in PACE.\n\n#### INTF-AI-02 — Schema and Data Fetching\n\n| | |\n|---|---|\n| **From** | PACE AI Backend |\n| **To** | PACE |\n| **Protocol** | HTTP REST |\n| **Data** | Database schema definitions, field metadata, entity relationships, business data (applicants, listings, etc.) |\n\nThe AI backend fetches both schema and business data from PACE via REST APIs. Schema retrieval enables context-aware query generation — the AI understands the data model without hardcoded knowledge. Business data retrieval provides the AI with real-time CRM data (applicants, listings, activities, etc.) needed for conversation context, analysis, and agentic workflows. All data the PACE AI Suite needs from PACE Web flows through this REST interface — there is no direct database access between the two systems.\n\n#### INTF-AI-03 — MCP Data Retrieval\n\n| | |\n|---|---|\n| **From** | MCP Servers |\n| **To** | PACE |\n| **Protocol** | HTTP REST |\n| **Data** | Business data (listings, applicants, configurations) scoped to the AI agent's request |\n\nMCP tool servers fetch business data from PACE on behalf of AI agents. When an agent needs real-time data (e.g., \"show me listings in Dubai Marina\"), the MCP server calls PACE's API to retrieve the relevant records and returns them as tool results.\n\n#### INTF-AI-04..0x — AI Agent to MCP Communication\n\n| | |\n|---|---|\n| **From** | PACE AI Backend |\n| **To** | MCP Servers |\n| **Protocol** | HTTP Streaming (MCP over HTTP) |\n| **Data** | Tool invocations (function name, arguments) → tool results (structured data) |\n\nThe agentic communication channel. The AI backend orchestrates tool calls by streaming requests to MCP servers. Each MCP server exposes domain-specific tools (e.g., listing search, applicant lookup, data aggregation). The `..0x` suffix indicates the interface scales with additional MCP servers as new tools are added.\n\n### External System Integrations\n\n#### INTF-PACE-01 — Call Center (Softphone)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Call Center (Exotel) |\n| **Protocol** | Omni Toolbar SDK (iframe + JS events) + WebRTC (voice) + HTTP REST (webhooks) |\n| **Data** | Call events, interaction lifecycle, agent state, disposition codes, CRM record mapping |\n\nExotel's contact center is embedded in PACE using the **CRM Integration (Iframe Model)** — a loosely-coupled approach where the Omni Toolbar runs independently inside an iframe and communicates with PACE exclusively via events. PACE remains the source of truth for navigation and data; the toolbar handles all telephony concerns.\n\n**Embedding:** The PACE frontend hosts a `<div id=\"ameyoIframeDiv\">` container. The toolbar loads from `https://<eccDomain>/omniapp/toolbar/index.html` and is initialized with a lightweight JS SDK:\n\n```javascript\nsdk.initialize({ context: \"crm\", origin: \"https://<pace_domain>\", instanceId: \"ameyoIframe\" });\n```\n\n**Integration layers:**\n\n1. **Iframe + Event-Driven SDK (UI + Control)** — The toolbar runs independently inside the iframe and communicates with PACE through defined events. The interaction lifecycle is: toolbar initializes → agent logs in → interaction arrives → toolbar emits event → PACE reacts (screen pop, data fetch) → agent completes work → toolbar emits wrap-up event. Core integration points:\n   - **SSO/Login**: `login` / `forceLogin` — PACE authenticates the agent into the toolbar\n   - **Click-to-Dial**: `initiateInteraction()` — PACE triggers outbound calls with applicant data\n   - **Screen Pop**: `showCrm` event — toolbar notifies PACE of incoming call, PACE looks up the applicant record\n   - **Disposition**: `disposeInteraction()` — PACE sends wrap-up data (disposition code, notes) after call ends\n2. **WebRTC (Voice)** — Voice calls are handled via WebRTC within the iframe. Audio is peer-to-peer between the agent's browser and Exotel's infrastructure — PACE does not process or route audio directly.\n3. **REST Webhooks (Backend Events)** — Call events are pushed from Exotel to PACE's backend via REST webhooks. This allows PACE to log call activity, associate calls with applicant records, and trigger workflows independently of the frontend SDK events.\n\n**SSO / Authentication:** The Omni Toolbar uses a CRM-initiated login model — not token-based SSO. PACE authenticates the agent into the toolbar by calling `sdk.login({ username, password })` with the agent's Ameyo credentials after the agent logs into PACE via Google SSO. User IDs must match between PACE and Ameyo. `sdk.forceLogin()` is available to override an existing session (e.g., agent left logged in elsewhere). Session teardown via `sdk.logout()`.\n\n> **Architectural consideration:** This model requires PACE to store or derive Ameyo credentials per agent, since actual username/password are passed through the SDK (no OAuth/JWT token exchange). Credentials must be stored encrypted with appropriate access controls. Alternatively, investigate whether Exotel supports a token-based or API-key-based authentication flow for programmatic login to avoid credential storage.\n\n**Prerequisites:** Ameyo user accounts provisioned with matching PACE user IDs, SDK initialization with CRM context and origin.\n\n**Reference:** [Exotel Omni Toolbar](https://docs.exotel.com/harmony/omni-toolbar)\n\n#### INTF-PACE-02 — Looker Studio (Embedded Analytics)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Looker Studio |\n| **Protocol** | Embedded iframe |\n| **Data** | Statistics dashboards, KPI reports (read-only, view mode only) |\n\nLooker Studio (free version) reports are embedded in the PACE UI as iframes, providing agents and managers with analytics dashboards without leaving the platform.\n\n**Embedding:** Reports are loaded via `https://lookerstudio.google.com/embed/reporting/<REPORT_ID>/page/<PAGE_ID>` inside an iframe. Reports render in view-only mode with interactive filters and date controls. A Looker Studio watermark is always present (cannot be removed in the free version).\n\n**Access control options (to be decided):**\n\n| Approach | Security | Complexity | Notes |\n|---|---|---|---|\n| **Google Workspace domain restriction** | Medium | Low | Restrict report sharing to the Allsop Google Workspace domain. Works because all users already authenticate via Google SSO (INTF-AUTH-02). Coarse-grained — all-or-nothing, no per-role data filtering. |\n| **URL parameters for filtering** | Low | Low | PACE dynamically generates embed URLs with user/role-specific filter params. Params are visible in the DOM and can be manipulated by users — **not suitable for data isolation**. |\n| **Community Connector + token** | High | High | PACE generates a short-lived signed token (e.g., JWT) per user, passed via the embed URL's `config` param. A custom Community Connector validates the token against PACE's backend and returns only authorized data. Most secure, but requires building and maintaining a custom connector. |\n\n> **Recommendation:** Start with Google Workspace domain restriction (all Allsop employees can view). If per-role data filtering is needed later, evaluate the Community Connector + token approach. URL parameters should only be used as a UX convenience (default view), never as a security boundary.\n\n#### INTF-PACE-03 — Gmail (Email)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Gmail API |\n| **Protocol** | HTTP REST (Google Gmail API) |\n| **Data** | Email messages (to, from, subject, body, attachments), listing share payloads |\n\nSends emails through the Gmail API using delegated credentials. Used for listing share emails to applicants, system notifications, and agent-initiated correspondence. Emails are sent as the agent's Google Workspace identity.\n\n#### INTF-PACE-04 — Allsop & Allsop Portal (Listing Publication)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Allsop & Allsop Portal |\n| **Protocol** | TBD |\n| **Data** | Listing details (title, description, pricing, location, media assets, status) |\n| **Status** | **Integration path under investigation** |\n\nAllsop & Allsop's website is the company's public-facing property listings portal. It is not a third-party marketplace — it is Allsop's own brokerage site. The portal currently sources its listing data from Salesforce (Propertybase), not from PACE directly.\n\nAs PACE replaces Salesforce as the primary CRM, the portal data path needs to be resolved. Two options are under consideration:\n\n1. **PACE → Salesforce Adapter → Propertybase → Portal** — Continue syncing listing data to Propertybase via the Salesforce Adapter (INTF-SF-01), and the portal continues reading from Salesforce as it does today. This preserves the existing portal integration but adds latency and maintains a dependency on the deprecated Salesforce pipeline.\n2. **PACE → Portal (direct)** — The portal reads listing data directly from PACE via a new API. This removes the Salesforce dependency but requires changes to the portal's data source.\n\n> **Action required**: Confirm with the Allsop portal team which integration path will be used. This interface definition will be updated once the approach is decided.\n\n#### INTF-PACE-05 — Bayut (Listing Publication)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Bayut Portal |\n| **Protocol** | XML Feed Syndication (current) / REST API (under investigation) |\n| **Data** | Listing details (title, description, pricing, location, media assets, status) |\n\nSyncs property listings to Bayut (Dubizzle Group).\n\n**Current integration model — XML Feed Syndication (pull):** PACE generates and hosts an XML feed at a publicly accessible URL. Bayut's system periodically pulls this feed to sync listing data. Listings are created, updated, or removed implicitly through feed content changes. This is Bayut's established integration model used by most CRM platforms.\n\n**Potential REST API (push) — under investigation:** Bayut has reportedly introduced REST API functionality for listing management. If confirmed, this would allow PACE to push listing create/update/unpublish operations directly via API calls, similar to the Property Finder Enterprise API (INTF-PACE-06). This would provide real-time sync and explicit operation control compared to the feed-based approach.\n\n> **Action required**: Investigate whether Bayut's REST API is available for listing management and evaluate migration from XML feed to REST push.\n\n#### INTF-PACE-06 — Property Finder (Listing Publication)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Property Finder Portal |\n| **Protocol** | HTTP REST (Enterprise API, OAuth 2.0 / JWT) |\n| **Data** | Listing details (title, description, pricing, location, media assets, status), webhook events |\n\nPublishes and syncs property listings to Property Finder via their Enterprise API. Supports the full listing lifecycle: create (draft), update, publish, and unpublish. Authentication uses OAuth 2.0 with API Key + Secret, producing JWT bearer tokens. Property Finder also provides webhooks for event notifications (publication status, lead assignments). Supports create, update, and unpublish operations for listing syndication.\n\n#### INTF-PACE-07 — WhatsApp (Messaging)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | WhatsApp (Exotel) |\n| **Protocol** | HTTP REST (WhatsApp Business API via Exotel) |\n| **Data** | Template messages (carousel + standard), delivery status, incoming replies |\n\nSends WhatsApp messages to applicants through Exotel's WhatsApp Business API. Primary use case is sharing property listings with applicants.\n\n**Messaging model:**\n\nWhatsApp is architecturally a two-way platform — there is no \"notification-only\" mode that prevents recipients from replying. However, template messages function as effective one-way notifications:\n\n- **Business-initiated (outbound):** PACE sends a pre-approved template message. If the recipient does not reply, no conversation window opens and no further interaction occurs.\n- **Customer-initiated (inbound):** If a recipient replies, a 24-hour Customer Service Window (CSW) opens during which PACE can send free-form messages. After 24h, only template messages can be sent again.\n- **Billing:** Per-message pricing (since July 2025) — each template message is billed individually. Free-form messages within an active CSW are free.\n\n**Template types for listing shares:**\n\n| Template | Use case | Constraints |\n|---|---|---|\n| **Carousel template** | 2–10 listings | 2–10 cards, each with 1 image (1125x600px recommended), 160-char body, up to 2 buttons (URL/quick reply). Image, body text, and button URL are parameterized per card. |\n| **Standard media template** | Single listing | 1 header image, up to 1024-char body with variables, up to 3 buttons. |\n\nPACE needs both template types: a carousel for multi-listing shares and a standard media template for single-listing shares (carousel minimum is 2 cards).\n\n**Broadcast (one-to-many):**\n\nPACE can send the same template to multiple applicants. There is no native batch endpoint — each recipient requires an individual API call (`POST /messages`). Each recipient is fully independent (own conversation window, own billing). Default throughput: ~80 messages/second.\n\n| Messaging tier | Unique contacts per 24h |\n|---|---|\n| Tier 1 (new) | 1,000 |\n| Tier 2 | 10,000 |\n| Tier 3 | 100,000 |\n| Tier 4 (verified) | Unlimited |\n\nTiers upgrade automatically based on volume and quality rating. Since October 2025, limits apply at the business portfolio level, not per phone number.\n\n> **Note:** If PACE does not intend to handle inbound replies, implement an application-level strategy (e.g., auto-reply with \"this number does not accept replies\" or silently ignore incoming messages).\n\n#### INTF-PACE-08 — Google Calendar (Viewings & Scheduling)\n\n| | |\n|---|---|\n| **From** | PACE |\n| **To** | Google Calendar API |\n| **Protocol** | HTTP REST (Google Calendar API v3) + Push Notifications (Webhooks) |\n| **Data** | Calendar events (viewings, meetings), agent availability, attendee lists, extended properties |\n\nBidirectional integration with Google Calendar for managing agent schedules, property viewings, and meeting bookings.\n\n**PACE → Google Calendar (outbound):**\n- Create/update/delete calendar events on agent calendars (viewings, meetings)\n- Check agent availability (freebusy queries) for scheduling\n- Events include extended properties for PACE-specific metadata (viewing ID, listing reference, applicant reference)\n- Applicants are added as event attendees — Google Calendar handles sending email invitations and reminders to them automatically\n\n**Google Calendar → PACE (inbound):**\n- Push notifications (webhooks) via watch channels notify PACE when events are created, modified, or deleted on the agent's calendar (e.g., agent reschedules directly in Google Calendar)\n- PACE syncs the change back to its own database to keep wrapper records consistent\n\n**PACE wrapper layer:**\nPACE maintains its own records in Pace DB (INTF-DB-01) for viewing-specific data that Google Calendar does not natively support: viewing details, applicant/agent associations across multiple viewings, viewing status tracking, and aggregate views (e.g., all appointments for a given applicant or agent). The calendar UI in PACE uses a React calendar component with this combined data.\n\n**Authentication:** Uses Google Workspace service account with domain-wide delegation, or per-agent OAuth consent, to access agent calendars.\n\n#### INTF-SF-01 — Salesforce Adapter\n\n| | |\n|---|---|\n| **From** | Salesforce Adapter |\n| **To** | PACE |\n| **Protocol** | HTTP REST |\n| **Data** | CRM records (applicants, listings, activities) |\n\nPACE exposes REST APIs that the Salesforce Adapter consumes. The adapter pulls data from PACE and handles all mapping to Salesforce's own data models — PACE has no knowledge of or dependency on the Salesforce schema. The direction of responsibility is: PACE provides the data, Salesforce takes care of fetching and transforming it.\n",
      "filename" : "02-container-architecture.md",
      "format" : "Markdown",
      "order" : 2,
      "title" : ""
    }, {
      "content" : "# Component Architecture\n\n## Component Diagrams\n\n> **Status:** Component diagrams are not yet defined. This section will be populated as the architecture evolves and individual containers are decomposed into their internal components.\n",
      "filename" : "03-component-architecture.md",
      "format" : "Markdown",
      "order" : 3,
      "title" : ""
    }, {
      "content" : "# Infrastructure\n\n## Cloud Platform\n\n![](embed:ProductionDeployment)\n\nPACE runs entirely on **Google Cloud Platform (GCP)**. All compute, storage, and managed services are provisioned within GCP.\n\n## Runtime Environment\n\n### GKE Cluster\n\nAll application workloads run on a **Google Kubernetes Engine (GKE)** cluster, organized into namespaces by system:\n\n| Namespace | Containers | Purpose |\n|---|---|---|\n| `pace-web` | PACE (Payload + Next.js) | The main CRM application — UI, business logic, and API layer. |\n| `pace-ai` | PACE AI Backend, MCP Servers | The AI subsystem — conversation processing, semantic search, and agentic AI tools. |\n\n### Cloud SQL\n\nDatabases are hosted on **Google Cloud SQL** (managed PostgreSQL), separate from the GKE cluster:\n\n| Database | Serves | Data |\n|---|---|---|\n| Pace DB | PACE Web | Business data — applicants, listings, users, communications, portal state. |\n| PACE AI DB | PACE AI Suite | AI data — conversations, transcripts, agent execution state, embeddings. |\n\nCloud SQL provides automated backups, high availability, and private IP connectivity within the GCP VPC.\n\n## CI/CD Pipeline\n\nCode flows from development to production through a fully automated pipeline:\n\n| Stage | Tool | What happens |\n|---|---|---|\n| Source control | **Bitbucket** | Developers commit code to Bitbucket repositories. |\n| Build | **Bitbucket Pipelines** | On push, Pipelines builds container images and runs tests. |\n| Deploy | **Argo** | Argo watches the CI/CD repository and deploys updated images to the GKE cluster using GitOps. |\n\nThe pipeline is triggered automatically on code changes. Argo runs inside the GKE cluster and manages deployments declaratively — the desired state is defined in Git, and Argo reconciles the cluster to match.\n\n## Monitoring & Alerting\n\n| Tool | Role |\n|---|---|\n| **Google Cloud Operations Suite** | Centralized observability — logs, metrics, traces, and dashboards for all GCP resources and GKE workloads. |\n| **PagerDuty** | Alert routing and escalation. Cloud Operations Suite triggers PagerDuty alerts based on predefined rules (error rate spikes, resource exhaustion, health check failures). |\n\nThe **Support Team** monitors the system through Cloud Operations dashboards and responds to PagerDuty alerts.\n",
      "filename" : "04-infrastructure.md",
      "format" : "Markdown",
      "order" : 4,
      "title" : ""
    } ]
  },
  "id" : 1,
  "lastModifiedDate" : "2026-02-19T18:50:58Z",
  "model" : {
    "deploymentNodes" : [ {
      "children" : [ {
        "children" : [ {
          "containerInstances" : [ {
            "containerId" : "26",
            "deploymentGroups" : [ "Default" ],
            "environment" : "Production",
            "id" : "95",
            "instanceId" : 1,
            "properties" : {
              "structurizr.dsl.identifier" : "c1370047-9bf1-4f2d-95f8-5d32490cac0d"
            },
            "relationships" : [ {
              "description" : "AI application request (INTF-AI-01)",
              "destinationId" : "97",
              "id" : "99",
              "linkedRelationshipId" : "61",
              "sourceId" : "95",
              "technology" : "HTTP SSE"
            }, {
              "description" : "Reads/writes data (INTF-DB-01)",
              "destinationId" : "105",
              "id" : "106",
              "linkedRelationshipId" : "59",
              "sourceId" : "95",
              "technology" : "PostgreSQL Wire Protocol"
            } ],
            "tags" : "Container Instance"
          } ],
          "description" : "PACE Web namespace",
          "environment" : "Production",
          "id" : "94",
          "instances" : "1",
          "name" : "pace-web",
          "properties" : {
            "structurizr.dsl.identifier" : "363327e2-02da-430d-9da2-16780298f71e"
          },
          "tags" : "Element,Deployment Node"
        }, {
          "containerInstances" : [ {
            "containerId" : "29",
            "deploymentGroups" : [ "Default" ],
            "environment" : "Production",
            "id" : "97",
            "instanceId" : 1,
            "properties" : {
              "structurizr.dsl.identifier" : "f91560d4-26ce-45bd-a237-f76c56d937be"
            },
            "relationships" : [ {
              "description" : "Fetches schema and data (INTF-AI-02)",
              "destinationId" : "95",
              "id" : "98",
              "linkedRelationshipId" : "64",
              "sourceId" : "97",
              "technology" : "HTTP REST"
            }, {
              "description" : "AI agent communication (INTF-AI-04..0x)",
              "destinationId" : "100",
              "id" : "102",
              "linkedRelationshipId" : "68",
              "sourceId" : "97",
              "technology" : "HTTP Streaming"
            }, {
              "description" : "Reads/writes AI data (INTF-DB-02)",
              "destinationId" : "107",
              "id" : "108",
              "linkedRelationshipId" : "60",
              "sourceId" : "97",
              "technology" : "PostgreSQL Wire Protocol"
            } ],
            "tags" : "Container Instance"
          }, {
            "containerId" : "30",
            "deploymentGroups" : [ "Default" ],
            "environment" : "Production",
            "id" : "100",
            "instanceId" : 1,
            "properties" : {
              "structurizr.dsl.identifier" : "82cffdc3-4817-4e8d-88eb-87253ad68b45"
            },
            "relationships" : [ {
              "description" : "Fetch PACE data (INTF-AI-03)",
              "destinationId" : "95",
              "id" : "101",
              "linkedRelationshipId" : "70",
              "sourceId" : "100",
              "technology" : "HTTP REST"
            } ],
            "tags" : "Container Instance"
          } ],
          "description" : "PACE AI Suite namespace",
          "environment" : "Production",
          "id" : "96",
          "instances" : "1",
          "name" : "pace-ai",
          "properties" : {
            "structurizr.dsl.identifier" : "4d585cf3-907b-41f2-ad06-70e56af427e8"
          },
          "tags" : "Element,Deployment Node"
        } ],
        "environment" : "Production",
        "id" : "93",
        "instances" : "1",
        "name" : "GKE Cluster",
        "properties" : {
          "structurizr.dsl.identifier" : "28b50e7a-c882-416a-a67a-5416764ff4bd"
        },
        "softwareSystemInstances" : [ {
          "deploymentGroups" : [ "Default" ],
          "environment" : "Production",
          "id" : "103",
          "instanceId" : 1,
          "properties" : {
            "structurizr.dsl.identifier" : "8aa648c3-a430-4fb9-b063-3f46ef4073a1"
          },
          "softwareSystemId" : "21",
          "tags" : "Software System Instance"
        } ],
        "tags" : "Element,Deployment Node",
        "technology" : "Kubernetes"
      }, {
        "containerInstances" : [ {
          "containerId" : "25",
          "deploymentGroups" : [ "Default" ],
          "environment" : "Production",
          "id" : "105",
          "instanceId" : 1,
          "properties" : {
            "structurizr.dsl.identifier" : "380daa2f-1170-4ce5-88b1-3024d613c090"
          },
          "tags" : "Container Instance"
        }, {
          "containerId" : "28",
          "deploymentGroups" : [ "Default" ],
          "environment" : "Production",
          "id" : "107",
          "instanceId" : 1,
          "properties" : {
            "structurizr.dsl.identifier" : "84448b50-6a91-47bc-9ca7-c2ec556eabc1"
          },
          "tags" : "Container Instance"
        } ],
        "environment" : "Production",
        "id" : "104",
        "instances" : "1",
        "name" : "Cloud SQL",
        "properties" : {
          "structurizr.dsl.identifier" : "d4ebebfc-e7da-4c79-99ed-83b9c4cae150"
        },
        "tags" : "Element,Deployment Node",
        "technology" : "Google Cloud SQL"
      } ],
      "environment" : "Production",
      "id" : "92",
      "instances" : "1",
      "name" : "Google Cloud Platform",
      "properties" : {
        "structurizr.dsl.identifier" : "0512b35b-dfe2-4084-a8fe-3ae3703caf1a"
      },
      "softwareSystemInstances" : [ {
        "deploymentGroups" : [ "Default" ],
        "environment" : "Production",
        "id" : "109",
        "instanceId" : 1,
        "properties" : {
          "structurizr.dsl.identifier" : "bc2033b8-7554-4dfa-8a28-c511a263790d"
        },
        "relationships" : [ {
          "description" : "Creates alerts based on rules",
          "destinationId" : "116",
          "id" : "117",
          "linkedRelationshipId" : "87",
          "sourceId" : "109"
        } ],
        "softwareSystemId" : "23",
        "tags" : "Software System Instance"
      } ],
      "tags" : "Element,Deployment Node,CloudProvider"
    }, {
      "environment" : "Production",
      "id" : "110",
      "instances" : "1",
      "name" : "Atlassian Cloud",
      "properties" : {
        "structurizr.dsl.identifier" : "79a4bf71-5a31-43e7-927e-aad0f46a9e75"
      },
      "softwareSystemInstances" : [ {
        "deploymentGroups" : [ "Default" ],
        "environment" : "Production",
        "id" : "111",
        "instanceId" : 1,
        "properties" : {
          "structurizr.dsl.identifier" : "ae599e1d-ffe0-4f54-93de-8eea7eeb6ce7"
        },
        "relationships" : [ {
          "description" : "Connects to CI/CD repository",
          "destinationId" : "103",
          "id" : "112",
          "linkedRelationshipId" : "85",
          "sourceId" : "111"
        }, {
          "description" : "Detect changes and builds images",
          "destinationId" : "113",
          "id" : "114",
          "linkedRelationshipId" : "84",
          "sourceId" : "111"
        } ],
        "softwareSystemId" : "19",
        "tags" : "Software System Instance"
      }, {
        "deploymentGroups" : [ "Default" ],
        "environment" : "Production",
        "id" : "113",
        "instanceId" : 1,
        "properties" : {
          "structurizr.dsl.identifier" : "dafa3232-443d-4e7e-af95-6aa1e068ff44"
        },
        "softwareSystemId" : "20",
        "tags" : "Software System Instance"
      } ],
      "tags" : "Element,Deployment Node,CloudProvider"
    }, {
      "environment" : "Production",
      "id" : "115",
      "instances" : "1",
      "name" : "PagerDuty",
      "properties" : {
        "structurizr.dsl.identifier" : "65427902-5038-4407-8245-fca1f33e3d4a"
      },
      "softwareSystemInstances" : [ {
        "deploymentGroups" : [ "Default" ],
        "environment" : "Production",
        "id" : "116",
        "instanceId" : 1,
        "properties" : {
          "structurizr.dsl.identifier" : "1f07e21c-9a22-4423-a158-e7b41542fb73"
        },
        "softwareSystemId" : "22",
        "tags" : "Software System Instance"
      } ],
      "tags" : "Element,Deployment Node,CloudProvider"
    } ],
    "people" : [ {
      "description" : "Allsop employee with Manager role.",
      "id" : "1",
      "name" : "Manager",
      "properties" : {
        "structurizr.dsl.identifier" : "manager"
      },
      "relationships" : [ {
        "description" : "Manager interface",
        "destinationId" : "24",
        "id" : "31",
        "sourceId" : "1",
        "tags" : "Relationship"
      }, {
        "description" : "Manager interface (INTF-USER-01)",
        "destinationId" : "26",
        "id" : "56",
        "sourceId" : "1",
        "tags" : "Relationship",
        "technology" : "HTTPS/REST",
        "url" : "http://localhost:3001/workspace/documentation#intf-user-01-%E2%80%94-manager-interface"
      } ],
      "tags" : "Element,Person,Allsop"
    }, {
      "description" : "Allsop employee with Admin role.",
      "id" : "2",
      "name" : "Admin",
      "properties" : {
        "structurizr.dsl.identifier" : "admin"
      },
      "relationships" : [ {
        "description" : "Admin interface",
        "destinationId" : "24",
        "id" : "33",
        "sourceId" : "2",
        "tags" : "Relationship"
      }, {
        "description" : "Admin interface (INTF-USER-02)",
        "destinationId" : "26",
        "id" : "57",
        "sourceId" : "2",
        "tags" : "Relationship",
        "technology" : "HTTPS/REST",
        "url" : "http://localhost:3001/workspace/documentation#intf-user-02-%E2%80%94-admin-interface"
      } ],
      "tags" : "Element,Person,Allsop"
    }, {
      "description" : "Allsop employee with Agent role.",
      "id" : "3",
      "name" : "Agent",
      "properties" : {
        "structurizr.dsl.identifier" : "agent"
      },
      "relationships" : [ {
        "description" : "Agent interface",
        "destinationId" : "24",
        "id" : "35",
        "sourceId" : "3",
        "tags" : "Relationship"
      }, {
        "description" : "Agent interface (INTF-USER-03)",
        "destinationId" : "26",
        "id" : "58",
        "sourceId" : "3",
        "tags" : "Relationship",
        "technology" : "HTTPS/REST",
        "url" : "http://localhost:3001/workspace/documentation#intf-user-03-%E2%80%94-agent-interface"
      } ],
      "tags" : "Element,Person,Allsop"
    }, {
      "description" : "Configures, monitors and maintains the backend, frontend and AI systems, and data flow between integrations.",
      "id" : "4",
      "name" : "Developer",
      "properties" : {
        "structurizr.dsl.identifier" : "developer"
      },
      "relationships" : [ {
        "description" : "Development",
        "destinationId" : "24",
        "id" : "37",
        "sourceId" : "4",
        "tags" : "Relationship"
      }, {
        "description" : "Development",
        "destinationId" : "27",
        "id" : "38",
        "sourceId" : "4",
        "tags" : "Relationship"
      }, {
        "description" : "Commits code",
        "destinationId" : "19",
        "id" : "39",
        "sourceId" : "4",
        "tags" : "Relationship"
      }, {
        "description" : "Modifies CI scripts",
        "destinationId" : "20",
        "id" : "88",
        "sourceId" : "4",
        "tags" : "Relationship"
      }, {
        "description" : "Triggers deployments",
        "destinationId" : "21",
        "id" : "89",
        "sourceId" : "4",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Person,Ingemark"
    }, {
      "description" : "Maintains the system, reacts to alerts and monitors the system.",
      "id" : "5",
      "name" : "Support Team",
      "properties" : {
        "structurizr.dsl.identifier" : "supportTeam"
      },
      "relationships" : [ {
        "description" : "Monitors and supports",
        "destinationId" : "24",
        "id" : "40",
        "sourceId" : "5",
        "tags" : "Relationship"
      }, {
        "description" : "Monitors and supports",
        "destinationId" : "27",
        "id" : "41",
        "sourceId" : "5",
        "tags" : "Relationship"
      }, {
        "description" : "Reacts to alerts",
        "destinationId" : "22",
        "id" : "90",
        "sourceId" : "5",
        "tags" : "Relationship"
      }, {
        "description" : "Monitors system",
        "destinationId" : "23",
        "id" : "91",
        "sourceId" : "5",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Person,Ingemark"
    } ],
    "softwareSystems" : [ {
      "description" : "Handles KPIs and business logic synchronization.",
      "documentation" : { },
      "group" : "Existing Allsopp CRM",
      "id" : "6",
      "name" : "Salesforce CRM",
      "properties" : {
        "structurizr.dsl.identifier" : "salesforce"
      },
      "relationships" : [ {
        "description" : "Initial Data Migration (CSV import)",
        "destinationId" : "24",
        "id" : "52",
        "sourceId" : "6",
        "tags" : "Relationship",
        "technology" : "Manual file import"
      } ],
      "tags" : "Element,Software System,External,Deprecated",
      "url" : "http://localhost:3001/workspace/documentation#salesforce-crm-deprecated"
    }, {
      "description" : "Source of truth for authentication.",
      "documentation" : { },
      "group" : "Google Workspace",
      "id" : "7",
      "name" : "Google Identity Services",
      "properties" : {
        "structurizr.dsl.identifier" : "googleIdentity"
      },
      "relationships" : [ {
        "description" : "Single Sign On",
        "destinationId" : "1",
        "id" : "32",
        "sourceId" : "7",
        "tags" : "Relationship"
      }, {
        "description" : "Single Sign On",
        "destinationId" : "2",
        "id" : "34",
        "sourceId" : "7",
        "tags" : "Relationship"
      }, {
        "description" : "Single Sign On",
        "destinationId" : "3",
        "id" : "36",
        "sourceId" : "7",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,External,GoogleWorkspace",
      "url" : "http://localhost:3001/workspace/documentation#google-identity-services"
    }, {
      "description" : "Send emails as Agent or System.",
      "documentation" : { },
      "group" : "Google Workspace",
      "id" : "8",
      "name" : "Gmail API",
      "properties" : {
        "structurizr.dsl.identifier" : "gmailApi"
      },
      "tags" : "Element,Software System,External,GoogleWorkspace",
      "url" : "http://localhost:3001/workspace/documentation#gmail-api"
    }, {
      "description" : "Agent calendar management — viewings, meetings, availability.",
      "documentation" : { },
      "group" : "Google Workspace",
      "id" : "9",
      "name" : "Google Calendar API",
      "properties" : {
        "structurizr.dsl.identifier" : "googleCalendarApi"
      },
      "tags" : "Element,Software System,External,GoogleWorkspace",
      "url" : "http://localhost:3001/workspace/documentation#google-calendar-api"
    }, {
      "description" : "Embedded analytics and KPI dashboards.",
      "documentation" : { },
      "group" : "Google Workspace",
      "id" : "10",
      "name" : "Looker Studio",
      "properties" : {
        "structurizr.dsl.identifier" : "lookerStudio"
      },
      "tags" : "Element,Software System,External,GoogleWorkspace",
      "url" : "http://localhost:3001/workspace/documentation#looker-studio"
    }, {
      "description" : "LLM inference and semantic search.",
      "documentation" : { },
      "group" : "Google Workspace",
      "id" : "11",
      "name" : "Vertex AI",
      "properties" : {
        "structurizr.dsl.identifier" : "vertexAi"
      },
      "tags" : "Element,Software System,External,GoogleWorkspace",
      "url" : "http://localhost:3001/workspace/documentation#vertex-ai"
    }, {
      "description" : "WhatsApp for communication with Applicants.",
      "documentation" : { },
      "group" : "Exotel",
      "id" : "12",
      "name" : "WhatsApp",
      "properties" : {
        "structurizr.dsl.identifier" : "whatsapp"
      },
      "tags" : "Element,Software System,External,Exotel",
      "url" : "http://localhost:3001/workspace/documentation#whatsapp"
    }, {
      "description" : "VoIP Call Center for Agents.",
      "documentation" : { },
      "group" : "Exotel",
      "id" : "13",
      "name" : "Call Center",
      "properties" : {
        "structurizr.dsl.identifier" : "callCenter"
      },
      "relationships" : [ {
        "description" : "Real-time conversation stream",
        "destinationId" : "24",
        "id" : "55",
        "sourceId" : "13",
        "tags" : "Relationship",
        "technology" : "WebSocket"
      } ],
      "tags" : "Element,Software System,External,Exotel",
      "url" : "http://localhost:3001/workspace/documentation#call-center"
    }, {
      "description" : "Real estate listings portal.",
      "documentation" : { },
      "group" : "Real Estate Portals",
      "id" : "14",
      "name" : "Property Finder Portal",
      "properties" : {
        "structurizr.dsl.identifier" : "propertyFinder"
      },
      "tags" : "Element,Software System,External,RealEstatePortal",
      "url" : "http://localhost:3001/workspace/documentation#property-finder-portal"
    }, {
      "description" : "Real estate listings portal.",
      "documentation" : { },
      "group" : "Real Estate Portals",
      "id" : "15",
      "name" : "Bayut Portal",
      "properties" : {
        "structurizr.dsl.identifier" : "bayut"
      },
      "tags" : "Element,Software System,External,RealEstatePortal",
      "url" : "http://localhost:3001/workspace/documentation#bayut-portal"
    }, {
      "description" : "Allsop real estate listings portal.",
      "documentation" : { },
      "group" : "Real Estate Portals",
      "id" : "16",
      "name" : "Allsop & Allsop Portal",
      "properties" : {
        "structurizr.dsl.identifier" : "allsopPortal"
      },
      "tags" : "Element,Software System,External,RealEstatePortal",
      "url" : "http://localhost:3001/workspace/documentation#allsop--allsop-portal"
    }, {
      "description" : "Pulls data from PACE and maps it to Salesforce data models.",
      "documentation" : { },
      "id" : "17",
      "name" : "Salesforce Adapter",
      "properties" : {
        "structurizr.dsl.identifier" : "salesforceAdapter"
      },
      "relationships" : [ {
        "description" : "Fetches PACE data (INTF-SF-01)",
        "destinationId" : "26",
        "id" : "81",
        "sourceId" : "17",
        "tags" : "Relationship",
        "technology" : "HTTP REST",
        "url" : "http://localhost:3001/workspace/documentation#intf-sf-01-%E2%80%94-salesforce-adapter"
      }, {
        "description" : "Fetches PACE data (INTF-SF-01)",
        "destinationId" : "24",
        "id" : "82",
        "linkedRelationshipId" : "81",
        "sourceId" : "17",
        "technology" : "HTTP REST"
      }, {
        "description" : "Synchronizes data",
        "destinationId" : "6",
        "id" : "83",
        "sourceId" : "17",
        "tags" : "Relationship",
        "technology" : "REST API"
      } ],
      "tags" : "Element,Software System,External",
      "url" : "http://localhost:3001/workspace/documentation#salesforce-adapter"
    }, {
      "description" : "Primary cloud provider",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "18",
      "name" : "Google Cloud Platform",
      "properties" : {
        "structurizr.dsl.identifier" : "gcp"
      },
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "description" : "Source code repository",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "19",
      "name" : "Bitbucket",
      "properties" : {
        "structurizr.dsl.identifier" : "bitbucket"
      },
      "relationships" : [ {
        "description" : "Detect changes and builds images",
        "destinationId" : "20",
        "id" : "84",
        "sourceId" : "19",
        "tags" : "Relationship"
      }, {
        "description" : "Connects to CI/CD repository",
        "destinationId" : "21",
        "id" : "85",
        "sourceId" : "19",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "description" : "CI/CD pipeline",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "20",
      "name" : "Bitbucket Pipelines",
      "properties" : {
        "structurizr.dsl.identifier" : "bitbucketPipelines"
      },
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "description" : "Deploys all components to GKE",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "21",
      "name" : "Argo",
      "properties" : {
        "structurizr.dsl.identifier" : "argo"
      },
      "relationships" : [ {
        "description" : "Deploys images",
        "destinationId" : "18",
        "id" : "86",
        "sourceId" : "21",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "description" : "Alerting system",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "22",
      "name" : "PagerDuty",
      "properties" : {
        "structurizr.dsl.identifier" : "pagerDuty"
      },
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "description" : "Observability and monitoring",
      "documentation" : { },
      "group" : "Infrastructure",
      "id" : "23",
      "name" : "Google Cloud Operations Suite",
      "properties" : {
        "structurizr.dsl.identifier" : "gcpOperations"
      },
      "relationships" : [ {
        "description" : "Creates alerts based on rules",
        "destinationId" : "22",
        "id" : "87",
        "sourceId" : "23",
        "tags" : "Relationship"
      } ],
      "tags" : "Element,Software System,Infrastructure"
    }, {
      "containers" : [ {
        "description" : "Primary transactional database.",
        "documentation" : { },
        "id" : "25",
        "name" : "Pace DB",
        "properties" : {
          "structurizr.dsl.identifier" : "paceDb"
        },
        "tags" : "Element,Container,Database",
        "technology" : "PostgreSQL on Google Cloud SQL",
        "url" : "http://localhost:3001/workspace/documentation#pace-db"
      }, {
        "description" : "PACE Sales and CRM Platform.",
        "documentation" : { },
        "id" : "26",
        "name" : "PACE",
        "properties" : {
          "structurizr.dsl.identifier" : "pace"
        },
        "relationships" : [ {
          "description" : "Reads/writes data (INTF-DB-01)",
          "destinationId" : "25",
          "id" : "59",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "PostgreSQL Wire Protocol",
          "url" : "http://localhost:3001/workspace/documentation#intf-db-01-%E2%80%94-pace-database-access"
        }, {
          "description" : "AI application request (INTF-AI-01)",
          "destinationId" : "29",
          "id" : "61",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP SSE",
          "url" : "http://localhost:3001/workspace/documentation#intf-ai-01-%E2%80%94-ai-application-request"
        }, {
          "description" : "AI application request (INTF-AI-01)",
          "destinationId" : "27",
          "id" : "62",
          "linkedRelationshipId" : "61",
          "sourceId" : "26",
          "technology" : "HTTP SSE"
        }, {
          "description" : "Identity Confirmation (INTF-AUTH-02)",
          "destinationId" : "7",
          "id" : "72",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-auth-02-%E2%80%94-google-identity-confirmation"
        }, {
          "description" : "Send emails (INTF-PACE-03)",
          "destinationId" : "8",
          "id" : "73",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-03-%E2%80%94-gmail-email"
        }, {
          "description" : "Calendar sync (INTF-PACE-08)",
          "destinationId" : "9",
          "id" : "74",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST, Webhooks",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-08-%E2%80%94-google-calendar-viewings--scheduling"
        }, {
          "description" : "WhatsApp messaging (INTF-PACE-07)",
          "destinationId" : "12",
          "id" : "75",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-07-%E2%80%94-whatsapp-messaging"
        }, {
          "description" : "Publish listing (INTF-PACE-04)",
          "destinationId" : "16",
          "id" : "76",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-04-%E2%80%94-allsop--allsop-portal-listing-publication"
        }, {
          "description" : "Publish listing (INTF-PACE-05)",
          "destinationId" : "15",
          "id" : "77",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-05-%E2%80%94-bayut-listing-publication"
        }, {
          "description" : "Publish listing (INTF-PACE-06)",
          "destinationId" : "14",
          "id" : "78",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-06-%E2%80%94-property-finder-listing-publication"
        }, {
          "description" : "Softphone integration (INTF-PACE-01)",
          "destinationId" : "13",
          "id" : "79",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "iframe, WebRTC, REST Webhooks",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-01-%E2%80%94-call-center-softphone"
        }, {
          "description" : "Embedded analytics (INTF-PACE-02)",
          "destinationId" : "10",
          "id" : "80",
          "sourceId" : "26",
          "tags" : "Relationship",
          "technology" : "iframe",
          "url" : "http://localhost:3001/workspace/documentation#intf-pace-02-%E2%80%94-looker-studio-embedded-analytics"
        } ],
        "tags" : "Element,Container",
        "technology" : "Payload, Next.js",
        "url" : "http://localhost:3001/workspace/documentation#pace"
      } ],
      "description" : "Pace Full-Stack Backend and Frontend Service for Applicant and Listing Management.",
      "documentation" : { },
      "group" : "PACE Sales and CRM Platform",
      "id" : "24",
      "name" : "PACE Web",
      "properties" : {
        "structurizr.dsl.identifier" : "paceWeb"
      },
      "relationships" : [ {
        "description" : "AI & other data flow",
        "destinationId" : "27",
        "id" : "42",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "SSE, REST API"
      }, {
        "description" : "Identity Confirmation",
        "destinationId" : "7",
        "id" : "44",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Share Listings (email)",
        "destinationId" : "8",
        "id" : "45",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Viewings, meetings, availability",
        "destinationId" : "9",
        "id" : "46",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Share listings (WhatsApp)",
        "destinationId" : "12",
        "id" : "47",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Publish listing to Property Finder",
        "destinationId" : "14",
        "id" : "48",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Publish listing to Bayut",
        "destinationId" : "15",
        "id" : "49",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Publish listing to Allsop portal",
        "destinationId" : "16",
        "id" : "50",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Softphone and backend integration",
        "destinationId" : "13",
        "id" : "51",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API, WebSocket"
      }, {
        "description" : "Embedded analytics dashboards",
        "destinationId" : "10",
        "id" : "53",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "iframe"
      }, {
        "description" : "Salesforce fetches PACE data",
        "destinationId" : "6",
        "id" : "54",
        "sourceId" : "24",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "AI application request (INTF-AI-01)",
        "destinationId" : "29",
        "id" : "63",
        "linkedRelationshipId" : "61",
        "sourceId" : "24",
        "technology" : "HTTP SSE"
      } ],
      "tags" : "Element,Software System,Ingemark",
      "url" : "http://localhost:3001/workspace/documentation#pace-web-containers"
    }, {
      "containers" : [ {
        "description" : "Dedicated AI database.",
        "documentation" : { },
        "id" : "28",
        "name" : "PACE AI DB",
        "properties" : {
          "structurizr.dsl.identifier" : "assistcraftDb"
        },
        "tags" : "Element,Container,Database",
        "technology" : "PostgreSQL on Google Cloud SQL",
        "url" : "http://localhost:3001/workspace/documentation#pace-ai-db"
      }, {
        "description" : "Main AI service, backend logic and agentic functionality.",
        "documentation" : { },
        "id" : "29",
        "name" : "PACE AI Backend",
        "properties" : {
          "structurizr.dsl.identifier" : "paceAiBackend"
        },
        "relationships" : [ {
          "description" : "Reads/writes AI data (INTF-DB-02)",
          "destinationId" : "28",
          "id" : "60",
          "sourceId" : "29",
          "tags" : "Relationship",
          "technology" : "PostgreSQL Wire Protocol",
          "url" : "http://localhost:3001/workspace/documentation#intf-db-02-%E2%80%94-ai-database-access"
        }, {
          "description" : "Fetches schema and data (INTF-AI-02)",
          "destinationId" : "26",
          "id" : "64",
          "sourceId" : "29",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-ai-02-%E2%80%94-schema-and-data-fetching"
        }, {
          "description" : "Fetches schema and data (INTF-AI-02)",
          "destinationId" : "24",
          "id" : "65",
          "linkedRelationshipId" : "64",
          "sourceId" : "29",
          "technology" : "HTTP REST"
        }, {
          "description" : "AI agent communication (INTF-AI-04..0x)",
          "destinationId" : "30",
          "id" : "68",
          "sourceId" : "29",
          "tags" : "Relationship",
          "technology" : "HTTP Streaming",
          "url" : "http://localhost:3001/workspace/documentation#intf-ai-040x-%E2%80%94-ai-agent-to-mcp-communication"
        }, {
          "description" : "LLM inference and semantic search (INTF-AI-05)",
          "destinationId" : "11",
          "id" : "69",
          "sourceId" : "29",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-ai-05-%E2%80%94-llm-inference-vertex-ai"
        } ],
        "tags" : "Element,Container",
        "technology" : "Python, FastAPI",
        "url" : "http://localhost:3001/workspace/documentation#pace-ai-backend"
      }, {
        "description" : "MCP server with specific functionality used by AI agents.",
        "documentation" : { },
        "id" : "30",
        "name" : "MCP Servers",
        "properties" : {
          "structurizr.dsl.identifier" : "mcpServer"
        },
        "relationships" : [ {
          "description" : "Fetch PACE data (INTF-AI-03)",
          "destinationId" : "26",
          "id" : "70",
          "sourceId" : "30",
          "tags" : "Relationship",
          "technology" : "HTTP REST",
          "url" : "http://localhost:3001/workspace/documentation#intf-ai-03-%E2%80%94-mcp-data-retrieval"
        }, {
          "description" : "Fetch PACE data (INTF-AI-03)",
          "destinationId" : "24",
          "id" : "71",
          "linkedRelationshipId" : "70",
          "sourceId" : "30",
          "technology" : "HTTP REST"
        } ],
        "tags" : "Element,Container",
        "technology" : "Python, FastMCP",
        "url" : "http://localhost:3001/workspace/documentation#mcp-servers"
      } ],
      "description" : "PACE AI Suite. Provides AI capabilities, conversation analysis, transcript.",
      "documentation" : { },
      "group" : "PACE Sales and CRM Platform",
      "id" : "27",
      "name" : "PACE AI Suite",
      "properties" : {
        "structurizr.dsl.identifier" : "paceAiSuite"
      },
      "relationships" : [ {
        "description" : "LLM inference and semantic search",
        "destinationId" : "11",
        "id" : "43",
        "sourceId" : "27",
        "tags" : "Relationship",
        "technology" : "REST API"
      }, {
        "description" : "Fetches schema and data (INTF-AI-02)",
        "destinationId" : "26",
        "id" : "66",
        "linkedRelationshipId" : "64",
        "sourceId" : "27",
        "technology" : "HTTP REST"
      }, {
        "description" : "Fetches schema and data (INTF-AI-02)",
        "destinationId" : "24",
        "id" : "67",
        "linkedRelationshipId" : "64",
        "sourceId" : "27",
        "technology" : "HTTP REST"
      } ],
      "tags" : "Element,Software System,Ingemark",
      "url" : "http://localhost:3001/workspace/documentation#pace-ai-suite-containers"
    } ]
  },
  "name" : "PACE Architecture",
  "properties" : {
    "structurizr.inspection.error" : "45",
    "structurizr.inspection.info" : "0",
    "structurizr.inspection.ignore" : "0",
    "structurizr.inspection.warning" : "0"
  },
  "views" : {
    "configuration" : {
      "branding" : { },
      "lastSavedView" : "PaceWebContainers",
      "styles" : {
        "elements" : [ {
          "background" : "#d4a017",
          "color" : "#ffffff",
          "tag" : "Allsop"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "tag" : "Container"
        }, {
          "background" : "#438dd5",
          "color" : "#ffffff",
          "shape" : "Cylinder",
          "tag" : "Database"
        }, {
          "background" : "#d4a017",
          "opacity" : 70,
          "tag" : "Deprecated"
        }, {
          "background" : "#7b1fa2",
          "color" : "#ffffff",
          "tag" : "Exotel"
        }, {
          "background" : "#999999",
          "color" : "#ffffff",
          "tag" : "External"
        }, {
          "background" : "#34a853",
          "color" : "#ffffff",
          "tag" : "GoogleWorkspace"
        }, {
          "background" : "#666666",
          "color" : "#ffffff",
          "tag" : "Infrastructure"
        }, {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Ingemark"
        }, {
          "background" : "#08427b",
          "color" : "#ffffff",
          "shape" : "Person",
          "tag" : "Person"
        }, {
          "background" : "#e65100",
          "color" : "#ffffff",
          "tag" : "RealEstatePortal"
        }, {
          "background" : "#1168bd",
          "color" : "#ffffff",
          "tag" : "Software System"
        } ]
      },
      "terminology" : { }
    },
    "containerViews" : [ {
      "description" : "L2 - PACE Platform Container Diagram",
      "dimensions" : {
        "height" : 4280,
        "width" : 4121
      },
      "elements" : [ {
        "id" : "1",
        "x" : 729,
        "y" : 3443
      }, {
        "id" : "2",
        "x" : 1229,
        "y" : 3443
      }, {
        "id" : "3",
        "x" : 1724,
        "y" : 3443
      }, {
        "id" : "6",
        "x" : 215,
        "y" : 100
      }, {
        "id" : "7",
        "x" : 204,
        "y" : 2063
      }, {
        "id" : "8",
        "x" : 199,
        "y" : 1688
      }, {
        "id" : "9",
        "x" : 199,
        "y" : 1323
      }, {
        "id" : "10",
        "x" : 200,
        "y" : 955
      }, {
        "id" : "11",
        "x" : 3470,
        "y" : 2526
      }, {
        "id" : "12",
        "x" : 2230,
        "y" : 1996
      }, {
        "id" : "13",
        "x" : 2234,
        "y" : 1648
      }, {
        "id" : "14",
        "x" : 2244,
        "y" : 1278
      }, {
        "id" : "15",
        "x" : 2244,
        "y" : 918
      }, {
        "id" : "16",
        "x" : 2244,
        "y" : 553
      }, {
        "id" : "17",
        "x" : 204,
        "y" : 538
      }, {
        "id" : "25",
        "x" : 594,
        "y" : 2988
      }, {
        "id" : "26",
        "x" : 1209,
        "y" : 2533
      }, {
        "id" : "28",
        "x" : 2254,
        "y" : 3008
      }, {
        "id" : "29",
        "x" : 2245,
        "y" : 2530
      }, {
        "id" : "30",
        "x" : 2945,
        "y" : 3015
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "PaceWebContainers",
      "name" : "Container View: PACE Web",
      "order" : 2,
      "relationships" : [ {
        "id" : "32",
        "vertices" : [ {
          "x" : 434,
          "y" : 3998
        }, {
          "x" : 924,
          "y" : 3993
        } ]
      }, {
        "id" : "34",
        "vertices" : [ {
          "x" : 484,
          "y" : 2373
        }, {
          "x" : 499,
          "y" : 3983
        }, {
          "x" : 1430,
          "y" : 3976
        } ]
      }, {
        "id" : "36",
        "vertices" : [ {
          "x" : 344,
          "y" : 2368
        }, {
          "x" : 347,
          "y" : 2406
        }, {
          "x" : 349,
          "y" : 3878
        }, {
          "x" : 1939,
          "y" : 3883
        } ]
      }, {
        "id" : "56"
      }, {
        "id" : "57"
      }, {
        "id" : "58"
      }, {
        "id" : "59",
        "vertices" : [ {
          "x" : 824,
          "y" : 2688
        } ]
      }, {
        "id" : "60"
      }, {
        "id" : "61"
      }, {
        "id" : "64",
        "vertices" : [ {
          "x" : 2245,
          "y" : 2606
        }, {
          "x" : 1670,
          "y" : 2606
        } ]
      }, {
        "id" : "68"
      }, {
        "id" : "69"
      }, {
        "id" : "70",
        "vertices" : [ {
          "x" : 3170,
          "y" : 2445
        }, {
          "x" : 1840,
          "y" : 2436
        } ]
      }, {
        "id" : "72"
      }, {
        "id" : "73"
      }, {
        "id" : "74",
        "vertices" : [ {
          "x" : 1250,
          "y" : 2515
        }, {
          "x" : 1255,
          "y" : 1480
        } ]
      }, {
        "id" : "75",
        "vertices" : [ {
          "x" : 1654,
          "y" : 2523
        }, {
          "x" : 1660,
          "y" : 2145
        } ]
      }, {
        "id" : "76",
        "vertices" : [ {
          "x" : 1455,
          "y" : 711
        } ]
      }, {
        "id" : "77",
        "vertices" : [ {
          "x" : 1490,
          "y" : 2521
        }, {
          "x" : 1510,
          "y" : 1076
        } ]
      }, {
        "id" : "78",
        "vertices" : [ {
          "x" : 1555,
          "y" : 2526
        }, {
          "x" : 1564,
          "y" : 1428
        } ]
      }, {
        "id" : "79",
        "vertices" : [ {
          "x" : 1604,
          "y" : 2533
        }, {
          "x" : 1614,
          "y" : 1793
        } ]
      }, {
        "id" : "80",
        "vertices" : [ {
          "x" : 1365,
          "y" : 2516
        }, {
          "x" : 1365,
          "y" : 1120
        } ]
      }, {
        "id" : "81",
        "vertices" : [ {
          "x" : 1295,
          "y" : 695
        }, {
          "x" : 1305,
          "y" : 2525
        } ]
      }, {
        "id" : "83"
      } ],
      "softwareSystemId" : "24"
    }, {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "description" : "L2 - PACE AI Suite Containers",
      "elements" : [ {
        "id" : "11",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "24",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "28",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "29",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "30",
        "x" : 0,
        "y" : 0
      } ],
      "externalSoftwareSystemBoundariesVisible" : false,
      "key" : "PaceAiContainers",
      "name" : "Container View: PACE AI Suite",
      "order" : 3,
      "relationships" : [ {
        "id" : "60"
      }, {
        "id" : "63"
      }, {
        "id" : "65"
      }, {
        "id" : "68"
      }, {
        "id" : "69"
      }, {
        "id" : "71"
      } ],
      "softwareSystemId" : "27"
    } ],
    "deploymentViews" : [ {
      "automaticLayout" : {
        "applied" : false,
        "edgeSeparation" : 0,
        "implementation" : "Graphviz",
        "nodeSeparation" : 300,
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "vertices" : false
      },
      "description" : "Production Deployment - Infrastructure & Runtime",
      "elements" : [ {
        "id" : "92",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "93",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "94",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "95",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "96",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "97",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "100",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "103",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "104",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "105",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "107",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "109",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "110",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "111",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "113",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "115",
        "x" : 0,
        "y" : 0
      }, {
        "id" : "116",
        "x" : 0,
        "y" : 0
      } ],
      "environment" : "Production",
      "key" : "ProductionDeployment",
      "name" : "Deployment View: Production",
      "order" : 4,
      "relationships" : [ {
        "id" : "101"
      }, {
        "id" : "102"
      }, {
        "id" : "106"
      }, {
        "id" : "108"
      }, {
        "id" : "112"
      }, {
        "id" : "114"
      }, {
        "id" : "117"
      }, {
        "id" : "98"
      }, {
        "id" : "99"
      } ]
    } ],
    "systemContextViews" : [ {
      "description" : "L1 - System Context",
      "dimensions" : {
        "height" : 4195,
        "width" : 4057
      },
      "elements" : [ {
        "id" : "1",
        "x" : 1317,
        "y" : 3312
      }, {
        "id" : "2",
        "x" : 1887,
        "y" : 3304
      }, {
        "id" : "3",
        "x" : 697,
        "y" : 3312
      }, {
        "id" : "4",
        "x" : 2942,
        "y" : 3347
      }, {
        "id" : "5",
        "x" : 3457,
        "y" : 3347
      }, {
        "id" : "6",
        "x" : 635,
        "y" : 155
      }, {
        "id" : "7",
        "x" : 630,
        "y" : 1620
      }, {
        "id" : "8",
        "x" : 627,
        "y" : 1267
      }, {
        "id" : "9",
        "x" : 627,
        "y" : 597
      }, {
        "id" : "10",
        "x" : 627,
        "y" : 932
      }, {
        "id" : "12",
        "x" : 3077,
        "y" : 1667
      }, {
        "id" : "13",
        "x" : 3072,
        "y" : 2082
      }, {
        "id" : "14",
        "x" : 3072,
        "y" : 782
      }, {
        "id" : "15",
        "x" : 3072,
        "y" : 1152
      }, {
        "id" : "16",
        "x" : 3072,
        "y" : 412
      }, {
        "id" : "24",
        "x" : 1280,
        "y" : 2561
      }, {
        "id" : "27",
        "x" : 2232,
        "y" : 2559
      } ],
      "enterpriseBoundaryVisible" : true,
      "key" : "SystemContext",
      "name" : "System Context View: PACE Web",
      "order" : 1,
      "relationships" : [ {
        "id" : "31"
      }, {
        "id" : "32",
        "vertices" : [ {
          "x" : 272,
          "y" : 1767
        }, {
          "x" : 282,
          "y" : 3897
        }, {
          "x" : 1522,
          "y" : 3897
        } ]
      }, {
        "id" : "33"
      }, {
        "id" : "34",
        "vertices" : [ {
          "x" : 482,
          "y" : 1762
        }, {
          "x" : 507,
          "y" : 3897
        }, {
          "x" : 2087,
          "y" : 3897
        } ]
      }, {
        "id" : "35"
      }, {
        "id" : "36",
        "vertices" : [ {
          "x" : 397,
          "y" : 1767
        }, {
          "x" : 412,
          "y" : 3912
        }, {
          "x" : 902,
          "y" : 3897
        } ]
      }, {
        "id" : "37"
      }, {
        "id" : "38"
      }, {
        "id" : "40"
      }, {
        "id" : "41"
      }, {
        "id" : "42",
        "vertices" : [ {
          "x" : 1737,
          "y" : 2627
        }, {
          "x" : 2212,
          "y" : 2627
        } ]
      }, {
        "id" : "44",
        "vertices" : [ {
          "x" : 1272,
          "y" : 2832
        }, {
          "x" : 1162,
          "y" : 2832
        }, {
          "x" : 1147,
          "y" : 1762
        } ]
      }, {
        "id" : "45",
        "vertices" : [ {
          "x" : 537,
          "y" : 2707
        }, {
          "x" : 537,
          "y" : 1407
        } ]
      }, {
        "id" : "46",
        "vertices" : [ {
          "x" : 1295,
          "y" : 2550
        }, {
          "x" : 1275,
          "y" : 745
        } ]
      }, {
        "id" : "47",
        "vertices" : [ {
          "x" : 1327,
          "y" : 2547
        }, {
          "x" : 1317,
          "y" : 1832
        } ]
      }, {
        "id" : "48",
        "vertices" : [ {
          "x" : 1552,
          "y" : 2552
        }, {
          "x" : 1572,
          "y" : 957
        } ]
      }, {
        "id" : "49",
        "vertices" : [ {
          "x" : 1607,
          "y" : 2557
        }, {
          "x" : 1617,
          "y" : 1317
        } ]
      }, {
        "id" : "50",
        "vertices" : [ {
          "x" : 1507,
          "y" : 602
        } ]
      }, {
        "id" : "51",
        "vertices" : [ {
          "x" : 1657,
          "y" : 2557
        }, {
          "x" : 1657,
          "y" : 2232
        }, {
          "x" : 3047,
          "y" : 2212
        } ]
      }, {
        "id" : "52",
        "vertices" : [ {
          "x" : 560,
          "y" : 295
        }, {
          "x" : 572,
          "y" : 2617
        }, {
          "x" : 1237,
          "y" : 2617
        } ]
      }, {
        "id" : "53",
        "vertices" : [ {
          "x" : 1442,
          "y" : 2527
        }, {
          "x" : 1440,
          "y" : 1080
        } ]
      }, {
        "id" : "54",
        "vertices" : [ {
          "x" : 1382,
          "y" : 2542
        }, {
          "x" : 1355,
          "y" : 310
        } ]
      }, {
        "id" : "55",
        "vertices" : [ {
          "x" : 3057,
          "y" : 2337
        }, {
          "x" : 1697,
          "y" : 2352
        }, {
          "x" : 1697,
          "y" : 2537
        } ]
      }, {
        "id" : "67"
      } ],
      "softwareSystemId" : "24"
    } ]
  }
}